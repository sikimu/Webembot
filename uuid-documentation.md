# EMBOTのUUID仕様書

## UUID形式

基本フォーマット: `f7fc****-7a0b-4b89-a675-a79137223e2c`

ここで、`****`の部分が各機能を識別する4桁の16進数になります。

## サービスUUID

- `f7fce510-7a0b-4b89-a675-a79137223e2c`
  - メインサービスUUID
  - EMBOTデバイスとの通信に使用される主要なサービス

## 特性（Characteristics）一覧

### LED制御
- **e515** - LED 1
  - プロパティ: read, writeWithoutResponse
- **e516** - LED 2
  - プロパティ: read, writeWithoutResponse
- **e51a** - LED 3 - 右赤 (F503iのみ)
  - プロパティ: read, writeWithoutResponse

### サウンド制御
- **e521** - ブザー
  - プロパティ: read, writeWithoutResponse

### キーおよびセンサー
- **e531** - キー状態変更通知（テンキー）
  - プロパティ: notify, read
  - 値の形式: 1バイトの整数値（0-255）
  - キーコード:
    - 0: キー押下なし
    - 1: キー1
    - 2: キー2
    - 3: キー3
    - 4: キー4
    - 5: キー5
    - 6: キー6
    - 7: キー7
    - 8: キー8
    - 9: キー9
    - 10: キー0
    - 11: キー*
    - 12: キー#
- **e532** - 光センサー
  - プロパティ: notify, read

### センサー関連
- **e533** - センサーモード設定
  - プロパティ: read, write
- **e5e1** - センサー 1
  - プロパティ: read
- **e5e2** - センサー 2
  - プロパティ: read
- **e5e3** - センサー 3
  - プロパティ: read

## プロパティの説明

各特性は以下のプロパティを持つことがあります：
- **read**: 値の読み取りが可能
- **write**: 値の書き込みが可能（確認応答あり）
- **writeWithoutResponse**: 値の書き込みが可能（確認応答なし）
- **notify**: 値の変更を通知

## デバイスモデル別の機能

### 基本モデル（EMBOT_）
- LED 1, 2
- ブザー
- 光センサー
- 基本的なセンサー機能

### EMBOTPLUSモデル（EMBOTPLUS_）
- LED 1, 2
- ブザー
- 光センサー
- 拡張センサー機能

### F503iモデル（F503i_）
- LED 1, 2, 右赤LED
- ブザー
- 光センサー
- 拡張センサー機能

## 値の形式
- LEDおよびブザー: 0-255の整数値（1バイト）
- センサー値: デバイスおよびモードによって異なる
  - 1バイト: 0-255の整数値
  - 2バイト: 0-65535の整数値

## 注意事項

1. 特性の読み取り時は100msの待機時間が設けられています
2. 書き込み操作は1バイトの整数値（0-255）のみサポートされています
3. F503iの右赤LED（e51a）は他のモデルでは利用できません
4. センサーの値を読み取る前に、適切なセンサーモードが設定されている必要があります
5. 光センサー（e532）は値の変更を通知することができます